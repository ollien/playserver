document.addEventListener("DOMContentLoaded",function(e){function t(e){i.textContent=e.song,u.textContent=e.artist,c.textContent=e.album}function n(){var e=new XMLHttpRequest;e.open("GET","/get_song_info"),e.addEventListener("load",function(n){data=JSON.parse(e.responseText),t(data)}),e.send()}function a(e){var t=new XMLHttpRequest;t.open("POST","/"+e,!0),t.addEventListener("load",function(e){200===t.status&&n()}),t.send()}var d=document.getElementById("previous"),o=document.getElementById("playpause"),s=document.getElementById("next"),i=document.getElementById("song-name"),u=document.getElementById("artist-name"),c=document.getElementById("album-name"),m=new WebSocket("ws://"+window.location.hostname+":5001");n(),m.addEventListener("message",function(e){data=JSON.parse(e.data),t(data)}),d.addEventListener("click",function(e){a("previous")}),o.addEventListener("click",function(e){a("play_pause")}),s.addEventListener("click",function(e){a("next")})});